{"ast":null,"code":"import _toConsumableArray from\"/Users/brianhardell/Desktop/UCLA/Third Year/180DB/Driver-s-Edd-Website/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/Users/brianhardell/Desktop/UCLA/Third Year/180DB/Driver-s-Edd-Website/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";// import logo from './logo.svg';\nimport'./App.css';import{db}from\"./utils/firebase\";import{onValue,onChildAdded,ref}from\"firebase/database\";import{useEffect,useState}from\"react\";import SpeedGraph from'./components/SpeedGraph';import{auth,logout}from\"./utils/firebase.js\";import{useAuthState}from\"react-firebase-hooks/auth\";import{Link,useNavigate}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Data(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),times=_useState2[0],setTimes=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),speeds=_useState4[0],setSpeeds=_useState4[1];var _useAuthState=useAuthState(auth),_useAuthState2=_slicedToArray(_useAuthState,3),user=_useAuthState2[0],loading=_useAuthState2[1],error=_useAuthState2[2];var navigate=useNavigate();// retrieve data whenever there is a change\nuseEffect(function(){var query=ref(db,\"User1/Time/\");return onValue(query,function(snapshot){var data=snapshot.val();var tempTimes=[];var tempSpeeds=[];if(snapshot.exists()){Object.values(data).map(function(entry){tempTimes=[].concat(_toConsumableArray(tempTimes),[entry[\"date_time\"]]);tempSpeeds=[].concat(_toConsumableArray(tempSpeeds),[entry[\"speed\"]]);});setTimes(tempTimes);setSpeeds(tempSpeeds);}});},[]);useEffect(function(){if(loading)return;if(!user)return navigate(\"/\");},[user,loading]);return/*#__PURE__*/_jsx(\"div\",{className:\"App\",children:/*#__PURE__*/_jsxs(\"header\",{className:\"App-header\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"title\",children:\"Driver's Edd\"}),/*#__PURE__*/_jsx(\"button\",{className:\"dashboard__btn\",onClick:logout,children:\"Logout\"}),/*#__PURE__*/_jsx(\"div\",{className:\"Graph-Container\",children:/*#__PURE__*/_jsx(SpeedGraph,{times:times,speeds:speeds})})]})});}export default Data;","map":{"version":3,"names":["db","onValue","onChildAdded","ref","useEffect","useState","SpeedGraph","auth","logout","useAuthState","Link","useNavigate","Data","times","setTimes","speeds","setSpeeds","user","loading","error","navigate","query","snapshot","data","val","tempTimes","tempSpeeds","exists","Object","values","map","entry"],"sources":["/Users/brianhardell/Desktop/UCLA/Third Year/180DB/Driver-s-Edd-Website/src/Data.js"],"sourcesContent":["// import logo from './logo.svg';\nimport './App.css';\nimport { db } from \"./utils/firebase\";\nimport { onValue, onChildAdded,ref } from \"firebase/database\"\nimport { useEffect, useState } from \"react\";\nimport SpeedGraph from './components/SpeedGraph';\nimport {auth, logout} from \"./utils/firebase.js\"\nimport { useAuthState } from \"react-firebase-hooks/auth\";\nimport { Link, useNavigate } from \"react-router-dom\";\n\nfunction Data() {\n\n  const [times, setTimes] = useState([]);\n  const [speeds, setSpeeds] = useState([]);\n\n  const [user, loading, error] = useAuthState(auth);\n  const navigate = useNavigate();\n// retrieve data whenever there is a change\n  useEffect(() => {\n    const query = ref(db, \"User1/Time/\");\n    return onValue(query, (snapshot) => {\n      const data = snapshot.val();\n\n      var tempTimes = []\n      var tempSpeeds = []\n\n      if(snapshot.exists()) {\n        Object.values(data).map((entry) => {\n          tempTimes = [...tempTimes, entry[\"date_time\"]]\n          tempSpeeds = [...tempSpeeds, entry[\"speed\"]]\n        })\n\n        setTimes(tempTimes)\n        setSpeeds(tempSpeeds)\n      }\n    })\n  }, [])\n\n  useEffect(() => {\n    if (loading) return;\n    if (!user) return navigate(\"/\");\n  }, [user, loading]);\n\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n        <p className=\"title\">\n          Driver's Edd\n        </p>\n        <button className=\"dashboard__btn\" onClick={logout}>\n          Logout\n         </button>\n        <div className='Graph-Container'>\n        <SpeedGraph times={times} speeds={speeds}></SpeedGraph>\n      </div>\n      </header>\n    </div>\n  );\n}\n\nexport default Data;\n"],"mappings":"gUAAA;AACA,MAAO,WAAW,CAClB,OAASA,EAAE,KAAQ,kBAAkB,CACrC,OAASC,OAAO,CAAEC,YAAY,CAACC,GAAG,KAAQ,mBAAmB,CAC7D,OAASC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC3C,MAAOC,WAAU,KAAM,yBAAyB,CAChD,OAAQC,IAAI,CAAEC,MAAM,KAAO,qBAAqB,CAChD,OAASC,YAAY,KAAQ,2BAA2B,CACxD,OAASC,IAAI,CAAEC,WAAW,KAAQ,kBAAkB,CAAC,wFAErD,QAASC,KAAI,EAAG,CAEd,cAA0BP,QAAQ,CAAC,EAAE,CAAC,wCAA/BQ,KAAK,eAAEC,QAAQ,eACtB,eAA4BT,QAAQ,CAAC,EAAE,CAAC,yCAAjCU,MAAM,eAAEC,SAAS,eAExB,kBAA+BP,YAAY,CAACF,IAAI,CAAC,gDAA1CU,IAAI,mBAAEC,OAAO,mBAAEC,KAAK,mBAC3B,GAAMC,SAAQ,CAAGT,WAAW,EAAE,CAChC;AACEP,SAAS,CAAC,UAAM,CACd,GAAMiB,MAAK,CAAGlB,GAAG,CAACH,EAAE,CAAE,aAAa,CAAC,CACpC,MAAOC,QAAO,CAACoB,KAAK,CAAE,SAACC,QAAQ,CAAK,CAClC,GAAMC,KAAI,CAAGD,QAAQ,CAACE,GAAG,EAAE,CAE3B,GAAIC,UAAS,CAAG,EAAE,CAClB,GAAIC,WAAU,CAAG,EAAE,CAEnB,GAAGJ,QAAQ,CAACK,MAAM,EAAE,CAAE,CACpBC,MAAM,CAACC,MAAM,CAACN,IAAI,CAAC,CAACO,GAAG,CAAC,SAACC,KAAK,CAAK,CACjCN,SAAS,8BAAOA,SAAS,GAAEM,KAAK,CAAC,WAAW,CAAC,EAAC,CAC9CL,UAAU,8BAAOA,UAAU,GAAEK,KAAK,CAAC,OAAO,CAAC,EAAC,CAC9C,CAAC,CAAC,CAEFjB,QAAQ,CAACW,SAAS,CAAC,CACnBT,SAAS,CAACU,UAAU,CAAC,CACvB,CACF,CAAC,CAAC,CACJ,CAAC,CAAE,EAAE,CAAC,CAENtB,SAAS,CAAC,UAAM,CACd,GAAIc,OAAO,CAAE,OACb,GAAI,CAACD,IAAI,CAAE,MAAOG,SAAQ,CAAC,GAAG,CAAC,CACjC,CAAC,CAAE,CAACH,IAAI,CAAEC,OAAO,CAAC,CAAC,CAEnB,mBACE,YAAK,SAAS,CAAC,KAAK,uBAClB,gBAAQ,SAAS,CAAC,YAAY,wBAC5B,UAAG,SAAS,CAAC,OAAO,UAAC,cAErB,EAAI,cACJ,eAAQ,SAAS,CAAC,gBAAgB,CAAC,OAAO,CAAEV,MAAO,UAAC,QAEnD,EAAS,cACV,YAAK,SAAS,CAAC,iBAAiB,uBAChC,KAAC,UAAU,EAAC,KAAK,CAAEK,KAAM,CAAC,MAAM,CAAEE,MAAO,EAAc,EACnD,GACG,EACL,CAEV,CAEA,cAAeH,KAAI"},"metadata":{},"sourceType":"module","externalDependencies":[]}