{"ast":null,"code":"var _jsxFileName = \"/Users/brianhardell/Desktop/UCLA/Third Year/180DB/Team5/edd-app/src/Dashboard.js\",\n  _s = $RefreshSig$();\n// import logo from './logo.svg';\nimport './App.css';\nimport { db } from \"./utils/firebase\";\nimport { onValue, onChildAdded, ref, query, orderByChild } from \"firebase/database\";\nimport { useEffect, useState } from \"react\";\nimport SpeedGraph from './components/SpeedGraph';\nimport { auth, logout } from \"./utils/firebase.js\";\nimport { useAuthState } from \"react-firebase-hooks/auth\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Dashboard() {\n  _s();\n  const [devices, setDevices] = useState([]);\n  const [user, loading, error] = useAuthState(auth);\n  const navigate = useNavigate();\n  function DeviceButton(_ref) {\n    let {\n      data\n    } = _ref;\n    const deviceInfo = () => {\n      return navigate(\"/device-info\", {\n        state: {\n          data: data\n        }\n      });\n    };\n    return /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: deviceInfo,\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        children: data.deviceID\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 26,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 9\n    }, this);\n  }\n  function RegisterButton(_ref2) {\n    let {\n      data\n    } = _ref2;\n    const deviceInfo = () => {\n      return navigate(\"/device-info\", {\n        state: {\n          data: data\n        }\n      });\n    };\n    const register = () => {\n      return navigate(\"/register\");\n    };\n    return /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: register,\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Register\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 9\n    }, this);\n  }\n  useEffect(() => {\n    if (loading) return;\n    if (!user) return navigate(\"/\");\n    var pageQuery = query(ref(db, \"users/\" + user.uid + \"/devices\"), orderByChild('creation'));\n    return onValue(pageQuery, snapshot => {\n      var data = [];\n      if (snapshot.exists()) {\n        snapshot.forEach(childSnapshot => {\n          var device = childSnapshot.val();\n          device[\"deviceID\"] = childSnapshot.key;\n          data.push(device);\n        });\n      }\n      console.log(data);\n      setDevices(data);\n    });\n  }, [user, loading]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: /*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"App-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"title\",\n        children: \"Dashboard\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [devices.map(data => /*#__PURE__*/_jsxDEV(DeviceButton, {\n          data: data,\n          children: \" \"\n        }, data.deviceID, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 9\n        }, this)), /*#__PURE__*/_jsxDEV(RegisterButton, {\n          children: \" \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"logout_btn\",\n        onClick: logout,\n        children: \"Logout\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 76,\n    columnNumber: 5\n  }, this);\n}\n_s(Dashboard, \"LfPeLfkLNQfvHQ7oSwQSqqnOEnQ=\", false, function () {\n  return [useAuthState, useNavigate];\n});\n_c = Dashboard;\nexport default Dashboard;\nvar _c;\n$RefreshReg$(_c, \"Dashboard\");","map":{"version":3,"names":["db","onValue","onChildAdded","ref","query","orderByChild","useEffect","useState","SpeedGraph","auth","logout","useAuthState","Link","useNavigate","Dashboard","devices","setDevices","user","loading","error","navigate","DeviceButton","data","deviceInfo","state","deviceID","RegisterButton","register","pageQuery","uid","snapshot","exists","forEach","childSnapshot","device","val","key","push","console","log","map"],"sources":["/Users/brianhardell/Desktop/UCLA/Third Year/180DB/Team5/edd-app/src/Dashboard.js"],"sourcesContent":["// import logo from './logo.svg';\nimport './App.css';\nimport { db } from \"./utils/firebase\";\nimport { onValue, onChildAdded,ref, query, orderByChild } from \"firebase/database\"\nimport { useEffect, useState } from \"react\";\nimport SpeedGraph from './components/SpeedGraph';\nimport {auth, logout} from \"./utils/firebase.js\"\nimport { useAuthState } from \"react-firebase-hooks/auth\";\nimport { Link, useNavigate } from \"react-router-dom\";\n\nfunction Dashboard() {\n\n  const [devices, setDevices] = useState([]);\n\n  const [user, loading, error] = useAuthState(auth);\n  const navigate = useNavigate();\n\n  function DeviceButton({data}){\n\n    const deviceInfo = () => {\n      return navigate(\"/device-info\", {state: {data: data}});\n    };\n  \n    return(\n        <button onClick={deviceInfo}>\n            <p>{data.deviceID}</p>\n        </button>\n    )\n    \n  }\n  \n  function RegisterButton ({data}){\n  \n    const deviceInfo = () => {\n      return navigate(\"/device-info\", {state: {data: data}});\n    };\n  \n    const register = () => {\n      return navigate(\"/register\");\n    };\n  \n    return(\n        <button onClick={register}>\n            <p>Register</p>\n        </button>\n    )\n    \n  }\n\n  useEffect(() => {\n    if (loading) return;\n    if (!user) return navigate(\"/\");\n\n    var pageQuery = query(ref(db, \"users/\" + user.uid + \"/devices\"), orderByChild('creation'));\n    \n    return onValue(pageQuery, (snapshot) => {\n\n      var data = []\n\n      if (snapshot.exists()) {\n        snapshot.forEach((childSnapshot) => {\n            var device = childSnapshot.val()\n            device[\"deviceID\"] = childSnapshot.key\n            data.push(device)\n          });\n      }\n      console.log(data)\n      setDevices(data)\n    \n    })\n  }, [user, loading]);\n\n  \n\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n        <p className=\"title\">\n          Dashboard\n        </p>\n        <div>\n      {devices.map(data => (\n\n        <DeviceButton key={data.deviceID} data ={data}> </DeviceButton>\n      ))}\n      <RegisterButton> </RegisterButton>\n    </div>\n        <button className=\"logout_btn\" onClick={logout}>\n          Logout\n         </button>\n      </header>\n          \n    </div>\n  );\n}\n\nexport default Dashboard;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}